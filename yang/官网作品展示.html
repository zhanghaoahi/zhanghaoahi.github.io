<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
	<style>
	*{margin: 0;padding: 0;}
	li{list-style:none;}
	#box{width: 800px;height: 400px;background:#ccc;overflow: hidden;position:relative;margin: 100px auto;}
	#box ul{position:absolute;left: 0;top:100px;}
	#box ul li{width: 300px;height: 200px;padding: 5px;position:relative;float: left;}
	#box ul li img{width: 300px;height: 200px;position:absolute;left: 0;top: 0;}
	</style>
	<script>
		window.onload=function(){
			var oBox=document.getElementById('box');
			var oUl=oBox.getElementsByTagName('ul')[0];
			var aLi=oBox.getElementsByTagName('li');
			var aIm=oBox.getElementsByTagName('img');
			var divC=oBox.offsetWidth/2;
			oUl.style.width=aLi.length*aLi[0].offsetWidth+'px';
			function biaohua(){
				for(var i=0;i<aLi.length;i++){
					var dis=Math.abs(divC-oUl.offsetLeft-aLi[i].offsetLeft-aLi[i].offsetWidth/2);
					var salert=1-dis/500;
					if(salert<0.5){salert=0.5};
					aIm[i].style.width=salert*600+'px';
					aIm[i].style.height=salert*400+'px';
					aIm[i].style.marginTop=-(aIm[i].offsetHeight-200)/2+'px';
					aIm[i].style.marginLeft=-(aIm[i].offsetWidth-300)/2+'px';
					aIm[i].style.zIndex=salert*100;
				}
			}
			oUl.style.left=divC-aLi[0].offsetWidth*(1 +.5)+'px';
			for(var i=0;i<aLi.length;i++){
				aLi[i].onmousedown=function(ev){
					var oEvent=ev || event;
					var disX=oEvent.clientX-oUl.offsetLeft;
					document.onmousemove=function(ev){
						var oEvent=ev || event;
						var l=oEvent.clientX-disX;
						if(l>divC-(aLi[0].offsetWidth*(0+0.5))){
							l=divC-(aLi[0].offsetWidth*(0+0.5))
						}
						if(l<divC-(aLi[0].offsetWidth*(aLi.length-1+0.5))){
							l=divC-(aLi[0].offsetWidth*(aLi.length-1+0.5))
						}
						oUl.style.left=l+'px';
						biaohua();
					}
					document.onmouseup=function(){
						document.onmousemove=null;
						document.onmouseup=null;
						oUl.releaseCapture && oUl.releaseCapture();
					}
					oUl.setCapture && oUl.setCapture();
					return false;
				}

			}
			biaohua();
		}
	</script>
</head>
<body>
	<div id="box">
		<ul>
			<li><img src="img/1.jpg" alt=""></li>
			<li><img src="img/2.jpg" alt=""></li>
			<li><img src="img/3.jpg" alt=""></li>
			<li><img src="img/4.jpg" alt=""></li>
			<li><img src="img/5.jpg" alt=""></li>
			<li><img src="img/6.jpg" alt=""></li>
			<li><img src="img/7.jpg" alt=""></li>
			<li><img src="img/8.jpg" alt=""></li>
		</ul>
	</div>
</body>
</html>